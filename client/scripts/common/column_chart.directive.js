;(function () {    'use strict';    angular.module('fullstackApp').directive('twColumnChart', twColumnChart);    twColumnChart.$inject = [];    function twColumnChart() {        var myoptions = {            chart: {                renderTo: 'container', /*渲染到ID容器*/                type: 'column'            },            /*设置标题*/            title: {                text: ''            },            /*X轴设置*/            xAxis: {                categories: ['一月', '二月', '三月', '四月', '五月','六月', '七月', '八月', '九月', '十月','十一月','十二月'],                title:{                    text:"月"                }            },            credits: {                enabled: false            },            /*数据设置*/            series: [{                color:'#e0191d', /*正值的颜色*/                negativeColor: '#75b210',//负值的颜色                pointPadding: 0, //数据点之间的距离值                groupPadding: 0, //分组之间的距离值                borderWidth: 0,                shadow: false,                pointWidth:5 ,//柱子之间的距离值                data: [5, 3, 4, 7, -2],                showInLegend: false /*隐藏图例*/            }]        };        var options = {            chart: {                type: 'line',                // spacing: 10,                backgroundColor: 'rgba(0,0,0,0)'            },            title: {                text: ''            },            legend: {                enabled: false            },            xAxis: {                lineColor: '#777',                tickColor: '#777',                labels: {                    style: {                        color: '#999'                    }                },                type: 'datetime',                dateTimeLabelFormats: {                    day: '%m/%d',                    month: '%y/%m/%d',                    year: '%y/%m',                    week: '%m/%d'                }            },            yAxis: {                title: {                    text: '收益率（%）' ,                    style: {                        color: '#999'                    }                },                gridLineColor: '#777',                labels: {                    style: {                        color: '#999'                    }                }            },            credits: {                enabled: false            },            exporting: {                enabled: false            },            plotOptions: {                series: {                    lineWidth: 2,                    marker: {                        lineColor: null,                        radius: 0,                        states: {                            hover: {                                radiusPlus: 0,                                lineWidthPlus: 0                            }                        }                    },                    states: {                        hover: {                            lineWidthPlus: 0                        }                    }                }            },            series: [{                color: '#5d9cec',                data: []            }]        };        return {            restrict: 'A',            replace: true,            template: '<div class="line_chart"><img src="/ngsrc/loading.gif"></div>',            link: function (scope, element, attrs) {                var type = attrs.type;                // 高手列表                if (type === 'masterList') {                    options.series[0].data = [];                    angular.extend(options, {                        title: {                            text: ''                        },                        xAxis: {                            labels: {                                enabled: false                            },                            lineWidth: 0,                            tickLength: 0                        },                        yAxis: {                            title: {                                enabled: false                            },                            labels: {                                enabled: false                            },                            gridLineWidth: 0                        },                        tooltip: {                            useHTML: true,                            backgroundColor: 'rgba(255, 255, 255, 0.8)',                            formatter: function () {                                var date = new Date(this.x);                                var dateStr = date.getFullYear() + '/' +                                    (date.getMonth() + 1) +'/' +                                    (date.getDate());                                return '<p style="color:' + this.series.color +                                    ';">收益率：</br>' +  this.y + '%</p>';                            }                        },                        plotOptions: {                            series: {                                lineWidth: 2,                                marker: {                                    lineColor: null,                                    radius: 0,                                    states: {                                        hover: {                                            radiusPlus: 0,                                            lineWidthPlus: 0                                        }                                    }                                },                                states: {                                    hover: {                                        lineWidthPlus: 0                                    }                                }                            }                        }                    });                    var line_chart = scope.rank.line_chart;                    var data = Highcharts.map(line_chart, function (config) {                        return {                            x: config.timestamp * 1000,                            y: config.value * 1                        };                    });                    options.series[0].data = data;                    element.highcharts(options);                }                // 高手主页                if (type === 'masterDetail') {                    angular.extend(options, {                        title: {                            text: ''                        },                        xAxis: {                            lineColor: '#f0f0f0',                            tickColor: '#f0f0f0',                            labels: {                                style: {                                    color: '#ccc'                                }                            },                            type: 'datetime',                            dateTimeLabelFormats: {                                day: '%m/%d',                                month: '%y/%m/%d',                                year: '%y/%m',                                week: '%m/%d'                            }                        },                        yAxis: {                            title: {                                text: '收益率（%）'                            },                            gridLineColor: '#f0f0f0',                            labels: {                                style: {                                    color: '#ccc'                                }                            }                        },                        tooltip: {                            useHTML: true,                            backgroundColor: 'rgba(0, 0, 0, 0)',                            formatter: function () {                                var date = new Date(this.x);                                var dateStr = date.getFullYear() + '/' +                                    (date.getMonth() + 1) +'/' +                                    (date.getDate());                                return '<p style="color:' + this.series.color + ';">' +                                    dateStr + '</p><p style="color:' + this.series.color + ';">收益率：' +                                    this.y + '%</p>';                            }                        },                        plotOptions: {                            series: {                                lineWidth: 4,                                marker: {                                    lineColor: null,                                    radius: 0,                                    states: {                                        hover: {                                            radiusPlus: 0,                                            lineWidthPlus: 0                                        }                                    }                                },                                states: {                                    hover: {                                        lineWidthPlus: 0                                    }                                }                            }                        }                    });                    scope.$on('paintLineChart', function (event, data) {                        data = Highcharts.map(data, function (config) {                            return {                                x: config.timestamp * 1000,                                y: config.value * 1                            };                        });                        options.series[0].data = data;                        element.highcharts(options);                    });                }                // 个人中心                if (type === 'investDetail') {                    angular.extend(options, {                        title: {                            text: ''                        },                        xAxis: {                            lineColor: '#f0f0f0',                            tickColor: '#f0f0f0',                            labels: {                                style: {                                    color: '#ccc'                                }                            },                            type: 'datetime',                            dateTimeLabelFormats: {                                day: '%m/%d',                                month: '%y/%m/%d',                                year: '%y/%m',                                week: '%m/%d'                            }                        },                        yAxis: {                            title: {                                text: '收益率（%）'                            },                            gridLineColor: '#f0f0f0',                            labels: {                                style: {                                    color: '#ccc'                                }                            }                        },                        tooltip: {                            useHTML: true,                            backgroundColor: 'rgba(0, 0, 0, 0)',                            formatter: function () {                                var date = new Date(this.x);                                var dateStr = date.getFullYear() + '/' +                                    (date.getMonth() + 1) +'/' +                                    (date.getDate());                                return '<p style="color:' + this.series.color + ';">' +                                    dateStr + '</p><p style="color:' + this.series.color + ';">收益率：' +                                    this.y + '%</p>';                            }                        },                        plotOptions: {                            series: {                                lineWidth: 4,                                marker: {                                    lineColor: null,                                    radius: 0,                                    states: {                                        hover: {                                            radiusPlus: 0,                                            lineWidthPlus: 0                                        }                                    }                                },                                states: {                                    hover: {                                        lineWidthPlus: 0                                    }                                }                            }                        }                    });                    scope.$on('paintLineChart', function (event, data) {                        data = Highcharts.map(data, function (config) {                            return {                                x: config.timestamp * 1000,                                y: config.value * 1                            };                        });                        options.series[0].data = data;                        element.highcharts(options);                    });                }            }        }    }})();