<div class="redbag_content">
    <div class="redbag_nav__wrapper">
        <ul class="redbag_nav__tabs">
            <li ng-class="{active: (tabType === 1 || tabType === 2)}">
                <a href="" ng-click="changeTabType(1)">可用红包</a>
            </li>
            <li ng-class="{active: tabType === 3}">
                <a href="" ng-click="changeTabType(3)">已兑换</a>
            </li>
            <li ng-class="{active: tabType === 4}">
                <a href="" ng-click="changeTabType(4)">已过期</a>
            </li>
        </ul>
    </div>
    <div class="redbag_own">
        <!-- <div tw-loading-img></div> -->
        <div class="clearfix">
            <div class="redbag_single_wrapper" ng-repeat="bag in bags" ng-class="{noPadding: $index%3 === 2}">
                <div class="redbag_single" ng-class="{light: (bag.bonus_status == 1 || bag.bonus_status == 2), dark: (bag.bonus_status == 3 || bag.bonus_status == 4)}">
                    <div class="redbag_single__circle"></div>
                    <div class="redbag_single__top">
                        <p class="redbag_single__top-num">
                            <span class="tip">$</span>
                            <span class="number">{{ bag.amount || '0'}}</span>
                        </p>
                        <p class="redbag_single__top-type">{{ bag.bonus_name || '-'}}</p>
                        <p class="redbag_single__top-tip">兑换有效期截止至{{ bag.valid_end.split(' ')[0] || '-' }}</p>
                        <div class="redbag_single__top-bw" ng-init="N=[];N.length=30">
                            <span class="one" ng-repeat="n in N track by $index"></span>
                        </div>
                    </div>
                    <div class="redbag_single__bottom">
                        <p class="redbag_single__bottom-tip">{{ bag.pay_condition_name || '-' }}</p>
                        <div class="redbag_single__bottom-btn" ng-if="bag.bonus_status == 2">
                            <button class="btn" ng-click="exchangeRedbag(bag)" ng-show="!bag.exchangeLoading">
                                立即兑换
                            </button>
                            <button class="btn disabled" disabled ng-show="bag.exchangeLoading">
                                兑换中
                            </button>
                        </div>
                        <div class="redbag_single__bottom-btn" ng-if="bag.bonus_status == 1">
                            <a href="/ranklist/#/ranklist/masters" class="btn">去完成</a>
                        </div>
                        <div class="redbag_single__bottom-mark" ng-if="bag.bonus_status == 3">
                            <span class="mark">
                                已兑换
                            </span>
                        </div>
                        <div class="redbag_single__bottom-mark" ng-if="bag.bonus_status == 4">
                            <span class="mark">
                                已过期
                            </span>
                        </div> 
                    </div>
                </div>
            </div>
            <div class="redbag_nobag" ng-if="success && bags.length <= 0">
                暂无红包！
            </div>
        </div>
        <div class="text-right">
            <div tw-pagination></div>
        </div>
    </div>
</div>