<div class="authen_content mg-tp-30 ctn center">
    <h2>完善信息</h2>
    <p class="authen_content__tip">如实填写个人信息是核实您真实身份，保障您资金和帐号安全，隐私信息的重要依据</p>
    <div tw-loading-img></div>
    <div class="mg-tp-40 kyc">
       <form name="completeForm" novalidate>
            <div class="form-control-wrapper">
                <input class="form-control" 
                       name="username"
                       type="text"
                       placeholder="请为账户设置昵称，有助于您登上高手榜"
                       required
                       ng-class="{'form-control-error': (frontErr.username.show && completeForm.username.$invalid)}"
                       ng-model="completeInfo.username"
                       twform-valid-txt
                       data-txt-type="username"
                       data-min-len="2"
                       data-max-len="16"
                       ng-focus="hideErr('username')"
                       ng-blur="[showErr('username'),checkExsit(1)]">

                <div ng-show="frontErr.username.show">
                    <p class="alert-arrow_tp_lf" ng-show="completeForm.username.$error.required">
                        请为账户设置昵称
                    </p>
                    <p class="alert-arrow_tp_lf" ng-show="completeForm.username.$error.twformValidTxt">
                        {{frontErr.username.tip}}
                    </p>
                </div>

                <div ng-show="exsit.username.show">
                    <p class="alert-arrow_tp_lf" ng-show="exsit.username.show">
                        昵称已存在
                    </p>
                </div>
            </div>

            <div class="form-control-wrapper">
                <input class="form-control"
                       name="email"
                       type="text"
                       placeholder="请输入您的电子邮箱，用于接收重要信息"
                       required
                       ng-class="{'form-control-error': (frontErr.email.show && completeForm.email.$invalid)}"
                       ng-model="completeInfo.email"
                       ng-pattern="frontErr.email.reg"
                       ng-blur="showErr('email')"
                       ng-focus="[hideErr('email'),checkExsit(2)]">

                <div ng-show="frontErr.email.show">
                    <p class="alert-arrow_tp_lf" ng-show="completeForm.email.$error.required">
                        请输入您的电子邮箱
                    </p>
                    <p class="alert-arrow_tp_lf" ng-show="completeForm.email.$error.pattern">
                        电子邮箱格式不正确
                    </p>
                </div>

                <div ng-show="exsit.email.show">
                    <p class="alert-arrow_tp_lf">
                        电子邮箱已存在
                    </p>
                </div>
            </div>

            <div class="form-control-wrapper">
                <input class="form-control"
                        name="realname"
                        type="text"
                        placeholder="请输入真实姓名"
                        required
                        ng-class="{'form-control-error': frontErr.realname.show && completeForm.realname.$invalid}"
                        ng-model="completeInfo.realname"
                        ng-pattern="frontErr.realname.reg"
                        ng-blur="showErr('realname')"
                        ng-focus="hideErr('realname')">

                <div ng-show="frontErr.realname.show">
                    <p class="alert-arrow_tp_lf" ng-show="completeForm.realname.$error.required">
                        请输入真实姓名
                    </p>
                    <p class="alert-arrow_tp_lf" ng-show="completeForm.realname.$error.pattern">
                        {{ frontErr.realname.tip }}
                    </p>
                </div>
            </div>

            <div class="form-control-wrapper">
                <input class="form-control"
                        name="id_num"
                        type="text"
                        placeholder="请输入身份证号"
                        required
                        ng-class="{'form-control-error': frontErr.id_num.show && completeForm.id_num.$invalid}"
                        ng-model="completeInfo.id_num"
                        ng-pattern="frontErr.id_num.reg"
                        ng-blur="[showErr('id_num'),checkExsit(4)]"
                        ng-focus="hideErr('id_num')">

                <div ng-show="frontErr.id_num.show">
                    <p class="alert-arrow_tp_lf" ng-show="completeForm.id_num.$error.required">
                        请输入身份证号
                    </p>
                    <p class="alert-arrow_tp_lf" ng-show="completeForm.id_num.$error.pattern">
                        {{ frontErr.id_num.tip }}
                    </p>
                </div>

                <div ng-show="exsit.id_num.show">
                    <p class="alert-arrow_tp_lf">
                        身份证号已存在
                    </p>
                </div>
            </div>
            
            <div class="text-center" ng-show="backErr.system.show">
                <p class="alert-system">
                    {{ backErr.system.msg || '未知错误，请联系管理员' }}
                </p>
            </div>
            
            <div class="text-center font-danger mg-tp-40" ng-if="backErr.show">
                <p>{{ backErr.msg }} !</p>
            </div>

            <div class="text-center mg-tp-50 mg-bt-30">
                <button class="btn btn-primary btn-sm" ng-if="completeInfo.clickable"  ng-click="submitCompleteForm()">
                    下一步
                </button>

                <button class="btn btn-primary btn-sm" disabled ng-if="!completeInfo.clickable">
                    <i class="loading_spinner fa fa-spinner"></i>
                    提交中
                </button>
            </div>
        </form>
    </div>
</div>